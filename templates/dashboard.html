{% extends "base.html" %}

{% block content %}
<div class="card-modern p-4 mb-5">
    <div class="row align-items-center">
        <div class="col-md-8">
            <h6 class="text-secondary text-uppercase ls-1 mb-2">Server Connection</h6>
            {% if server_ip %}
                <h2 class="text-success fw-bold mb-0">
                    <i class="fas fa-link me-2"></i>Connected
                </h2>
                <p class="text-muted mt-2 mb-0">Remote Server: <span class="font-monospace text-primary">{{ server_ip }}</span></p>
            {% else %}
                <h2 class="text-danger fw-bold mb-0">
                    <i class="fas fa-unlink me-2"></i>Disconnected
                </h2>
                <p class="text-muted mt-2 mb-0">Please connect your foreign server to start.</p>
            {% endif %}
        </div>
        <div class="col-md-4 text-end">
            {% if not server_ip %}
                <button class="btn btn-accent btn-lg w-100" data-bs-toggle="modal" data-bs-target="#connectModal">
                    <i class="fas fa-plug me-2"></i>Connect Server
                </button>
            {% else %}
                <a href="{{ url_for('dashboard.disconnect_server') }}" class="btn btn-outline-danger w-100">
                    <i class="fas fa-trash-alt me-2"></i>Disconnect
                </a>
            {% endif %}
        </div>
    </div>
</div>

<div class="row g-4">
    <div class="col-md-3">
        <div class="card-modern h-100 p-4 text-center position-relative overflow-hidden">
            <div class="position-absolute top-0 end-0 p-3 opacity-10">
                <i class="fas fa-bolt fa-5x text-warning"></i>
            </div>
            <div class="mb-3">
                <span class="badge bg-warning text-dark rounded-pill px-3 py-2">Recommended</span>
            </div>
            <h4 class="fw-bold mt-2">Hysteria 2</h4>
            <p class="text-secondary small">UDP/QUIC Optimized for high packet loss.</p>
            <button class="btn btn-accent w-100 mt-3" data-bs-toggle="modal" data-bs-target="#hysteriaModal">Install</button>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card-modern h-100 p-4 text-center">
             <div class="mb-3 text-info">
                <i class="fas fa-wind fa-3x"></i>
            </div>
            <h4 class="fw-bold">Slipstream</h4>
            <p class="text-secondary small">Rust-based DNS Tunnel. High speed & stealth.</p>
            <button class="btn btn-accent w-100 mt-3" data-bs-toggle="modal" data-bs-target="#slipstreamModal">Install</button>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card-modern h-100 p-4 text-center">
            <div class="mb-3 text-success">
                <i class="fas fa-shield-virus fa-3x"></i>
            </div>
            <h4 class="fw-bold">Rathole</h4>
            <p class="text-secondary small">Secure NAT traversal written in Rust.</p>
            <button class="btn btn-accent w-100 mt-3" data-bs-toggle="modal" data-bs-target="#ratholeModal">Install</button>
        </div>
    </div>

    <div class="col-md-3">
        <div class="card-modern h-100 p-4 text-center">
            <div class="mb-3 text-primary">
                <i class="fas fa-network-wired fa-3x"></i>
            </div>
            <h4 class="fw-bold">Backhaul</h4>
            <p class="text-secondary small">Standard TCP/WS Tunneling.</p>
            <button class="btn btn-accent w-100 mt-3" data-bs-toggle="modal" data-bs-target="#backhaulModal">Install</button>
        </div>
    </div>
</div>

{% endblock %}